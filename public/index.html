<!doctype html>
<html>
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, 
            shrink-to-fit=no, viewport-fit=cover, maximum-scale=1">
        <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
		<link rel="stylesheet" href="css/style.css">
		<title>Webtrap</title>

		<script src="parts/button-bar.js" type="text/javascript"></script>
		<script src="parts/endpoints-grid.js" type="text/javascript"></script>
		<script src="parts/endpoint-cell.js" type="text/javascript"></script>
		<script src="parts/endpoint-detail-grid.js" type="text/javascript"></script>
		<script src="parts/endpoint-edit.js" type="text/javascript"></script>
        <script src="parts/help-page.js" type="text/javascript"></script>

		<script>
			var update;
			var mainController;
			var editController;
            var helpController;
		</script>
		<script type="module">
			import {updateComponent, mainController as mainControllerInst} from "./app/main.js";
			import {editController as editControllerInst} from "./app/main.js";
            import {helpController as helpControllerInst} from "./app/main.js";
			update = updateComponent;
			mainController = mainControllerInst;
			editController = editControllerInst;
            helpController = helpControllerInst;
			window.onload = () => mainController.refreshEndpointsData();
		</script>
		
	</head>
	<body>
		<noscript>
			You need to enable JavaScript to run this app.
		</noscript>
		
		<header>
			<h1>Webtrap</h1>
		</header>

		<div class="container">

		    <span id="message">
              	<script type="module">
              	    message.style.opacity = 0;
                    message.style.transform = "scaleX(1.1) scaleY(1.1)";
                    message.style.boxShadow = "4px 4px 4px #888";
              	    window.setTimeout(() => {
              	        message.innerHTML += `${mainController.message}`;
              	        message.style.opacity = 1;
              	        message.style.transform = "scaleX(1.00) scaleY(1.00)";
              	        message.style.boxShadow = "0px 0px 0px #888";
              	    }, 300);
              	    window.setTimeout(() => {
               	        message.style.opacity = 0;
               	        message.style.transform = "scaleX(1.1) scaleY(1.1)";
                        message.style.boxShadow = "4px 4px 4px #888";
               	    }, 5000);
              	</script>
  			</span>

			<span id="menuBar">
            	<script type="module">
            		menuBar.innerHTML += ButtonBar();
            	</script>
			</span>
            
            <span id="helpPage">
                <script type="module">
                    helpPage.innerHTML += HelpPage();
                </script>
            </span>

			<span id="endpointDetailGrid">
               <script type="module">
               	    endpointDetailGrid.innerHTML += EndpointDetailGrid();
               </script>
           </span>

			<span id="endpointsGrid">
                <script type="module">
                	endpointsGrid.innerHTML += EndpointsGrid();
                </script>
            </span>

            <span id="endpointEdit">
                <script type="module">
                    endpointEdit.innerHTML += EndpointEdit();
                </script>
            </span>
		</div>
				
		<footer>
            <b>Webtrap</b> Â· <a href="https://github.com/nigol/webtrap">Github</a>
		</footer>
	</body>
</html>
